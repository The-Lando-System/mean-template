<jumbotron></jumbotron>
<div class="container" ng-show="vm.userSession.isAdmin">
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col"></div>
    <div class="mdl-cell mdl-cell--10-col">
      <div ng-show="vm.loading">
        <img src="/assets/images/loading.gif" height="100" width="150">
      </div>
      <table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp" ng-hide="vm.loading">
        <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric">Username</th>
            <th class="mdl-data-table__cell--non-numeric">First Name</th>
            <th class="mdl-data-table__cell--non-numeric">Last Name</th>
            <th class="mdl-data-table__cell--non-numeric">Email</th>
            <th class="mdl-data-table__cell--non-numeric">Role</th>
            <th class="mdl-data-table__cell--non-numeric">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="user in vm.users">
            <td class="mdl-data-table__cell--non-numeric">{{ user.username }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ user.firstName }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ user.lastName }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ user.email }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ user.role }}</td>
            <td>
              <button ng-click="vm.prepareDeleteUser(user)" class="mdl-button mdl-js-button mdl-button--icon mdl-button--accent">
                <i class="material-icons">delete</i>
              </button>
              <button ng-click="vm.editedUser = user; vm.editedUser.password = ''; vm.showEditUserModal();" class="mdl-button mdl-js-button mdl-button--icon mdl-button--accent">
                <i class="material-icons">edit</i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col"></div>
    <div class="mdl-cell mdl-cell--10-col">
      <button ng-click="vm.showNewUserModal()" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">
        Create New User
      </button>
    </div>
  </div>
</div>

<user-modal></user-modal>

<confirm-dialog close-function="testHello()"></confirm-dialog>

<!-- TODO move into a directive -->
<!-- <div id="notification-snackbar" class="mdl-js-snackbar mdl-snackbar">
  <div class="mdl-snackbar__text"></div>
  <button class="mdl-snackbar__action" type="button"></button>
</div> -->
<notification></notification>